@model IList<CategoryModel>

@using Nop.Web.Models.Catalog;
@if (Model.Count > 0)
{
    <div class="product-content">
        <div id="sticky-anchor"></div>
        <div class="category-home prelative" id="sticky">
            <div class="row">
                <div id="carousel-example-generic" class="carousel slide" data-ride="carousel" data-interval="false">
                    <!-- Indicators -->
                    <!-- Wrapper for slides -->
                    <div class="carousel-inner" role="listbox">

                        @foreach (var item in Model)
                        {
                            var indexofitem = Model.IndexOf(item);
                            if (indexofitem == 0)
                            {
                        <div class="item tab-item active">
                            <a href="#@item.Name.ToLower().Replace(" ","")" data-toggle="tab">
                                <img src="@item.PictureModel.FullSizeImageUrl" alt="@item.PictureModel.AlternateText" title="@item.PictureModel.Title" />
                                <h3>@item.Name</h3>
                            </a>
                        </div>
                            }
                            else
                            {
                        <div class="item tab-item">
                            <a href="#@item.Name.ToLower().Replace(" ","")" data-toggle="tab">
                                <img src="@item.PictureModel.FullSizeImageUrl" alt="@item.PictureModel.AlternateText" title="@item.PictureModel.Title" />
                                <h3>@item.Name</h3>
                            </a>
                        </div>
                            }

                        }


                    </div>

                    <!-- Controls -->
                    <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
        <!-- Nav tabs -->
        <!-- Tab panes -->
        <div class="tab-content">
            @foreach (var item in Model)
            {
                var indexofitem = Model.IndexOf(item);
                if (indexofitem == 0)
                {
                    <div role="tabpanel" class="tab-pane tab-panes active" id="@item.Name.ToLower().Replace(" ","")">
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                @Html.Raw(item.Description)
                            </div>
                            @{
                                if (item.SubCategories.Count != 3)
                                {
                            <div class="col-lg-12 col-md-12 col-sm-12 fivebox text-center">
                                <ul>
                                    @foreach (var subCategory in item.SubCategories)
                                            {
                                            <li>
                                                <img src="@subCategory.PictureModel.FullSizeImageUrl" />
                                                <h3>@subCategory.Name</h3>
                                                @Html.Raw(subCategory.Description)
                                            </li>
                                            }
                                </ul>
                            </div>
                                }
                                else
                                {
                            <div class="col-lg-12 col-md-12 col-sm-12 three text-center">
                                <ul>
                                    @foreach (var subCategory in item.SubCategories)
                                            {
                                            <li>
                                                <img src="@subCategory.PictureModel.FullSizeImageUrl" />
                                                <h3>@subCategory.Name</h3>
                                                @Html.Raw(subCategory.Description)
                                            </li>
                                            }
                                </ul>
                            </div>
                                }

                                if (item.SubCategories.Count != 3)
                                {
                            <div class="gallery-block fivebox homepage">
                                @foreach (var subcat in item.SubCategories)
                                        {
                                        <ul class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
                                            @foreach (var products in subcat.Products)
                                                {
                                                <li>
                                                    @Html.Action("HomePageProductDetails", "Product", new { productId = products.Id })
                                                    @*@Html.Partial("_ProductBox", products)*@
                                                </li>
                                                }
                                        </ul>
                                        }
                            </div>
                                }
                                else
                                {
                            <div class="gallery-block three homepage">
                                @foreach (var subcat in item.SubCategories)
                                        {
                                        <ul class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
                                            @foreach (var products in subcat.Products)
                                                {
                                                <li>
                                                    @Html.Action("HomePageProductDetails", "Product", new { productId = products.Id })
                                                    @*@Html.Partial("_ProductBox", products)*@
                                                </li>
                                                }
                                        </ul>
                                        }
                            </div>
                                }
                            }
                        </div>
                    </div>
                                }
                                else
                                {
                                    <div role="tabpanel" class="tab-pane tab-panes" id="@item.Name.ToLower().Replace(" ","")">
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                @Html.Raw(item.Description)
                                            </div>
                                            @{
                                                if (item.SubCategories.Count != 3)
                                                {
                                            <div class="col-lg-12 col-md-12 col-sm-12 fivebox text-center">
                                                <ul>
                                                    @foreach (var subCategory in item.SubCategories)
                                                            {
                                                            <li>
                                                                <img src="@subCategory.PictureModel.FullSizeImageUrl" />
                                                                <h3>@subCategory.Name</h3>
                                                                @Html.Raw(subCategory.Description)
                                                            </li>
                                                            }
                                                </ul>
                                            </div>
                                                }
                                                else
                                                {
                                            <div class="col-lg-12 col-md-12 col-sm-12 three text-center">
                                                <ul>
                                                    @foreach (var subCategory in item.SubCategories)
                                                            {
                                                            <li>
                                                                <img src="@subCategory.PictureModel.FullSizeImageUrl" />
                                                                <h3>@subCategory.Name</h3>
                                                                @Html.Raw(subCategory.Description)
                                                            </li>
                                                            }
                                                </ul>
                                            </div>
                                                }

                                                if (item.SubCategories.Count != 3)
                                                {
                                            <div class="gallery-block fivebox homepage">
                                                @foreach (var subcat in item.SubCategories)
                                                        {
                                                        <ul class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
                                                            @foreach (var products in subcat.Products)
                                                                {
                                                                <li>
                                                                    @Html.Action("HomePageProductDetails", "Product", new { productId = products.Id })
                                                                    @*@Html.Partial("_ProductBox", products)*@
                                                                </li>
                                                                }
                                                        </ul>
                                                        }
                                            </div>
                                                }
                                                else
                                                {
                                            <div class="gallery-block three homepage">
                                                @foreach (var subcat in item.SubCategories)
                                                        {
                                                        <ul class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
                                                            @foreach (var products in subcat.Products)
                                                                {
                                                                <li>
                                                                    @Html.Action("HomePageProductDetails", "Product", new { productId = products.Id })
                                                                    @*@Html.Partial("_ProductBox", products)*@
                                                                </li>
                                                                }
                                                        </ul>
                                                        }
                                            </div>
                                                }
                                            }
                                        </div>
                                    </div>
                                                    }
                                                }
        </div>
    </div>
                                                }
